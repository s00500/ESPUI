const char JS_CONTROLS[] PROGMEM = R"=====(
const UI_TITEL=0;const UI_LABEL=1;const UPDATE_LABEL=6;const UI_BUTTON=2;const UI_SWITCHER=3;const UPDATE_SWITCHER=7;const UI_PAD=4;const UI_CPAD=5;const UI_SLIDER=8;const UPDATE_SLIDER=9;const UI_NUMBER=10;const UPDATE_NUMBER=11;const UI_TEXT_INPUT=12;const UPDATE_TEXT_INPUT=13;const UI_GRAPH=14;const CLEAR_GRAPH=15;const ADD_GRAPH_POINT=16;const FOR=0;const BACK=1;const LEFT=2;const RIGHT=3;const CENTER=4;const C_TURQUOISE=0;const C_EMERALD=1;const C_PETERRIVER=2;const C_WETASPHALT=3;const C_SUNFLOWER=4;const C_CARROT=5;const C_ALIZARIN=6;const C_NONE=7;function colorClass(colorId){colorId=Number(colorId);switch(colorId){case C_TURQUOISE:return"turquoise";break;case C_EMERALD:return"emerald";break;case C_PETERRIVER:return"peterriver";break;case C_WETASPHALT:return"wetasphalt";break;case C_SUNFLOWER:return"sunflower";break;case C_CARROT:return"carrot"
break;case C_ALIZARIN:return"alizarin"
break;case C_NONE:return""
break;default:return"";}}
var websock;var websockConnected=false;function restart(){$(document).add('*').off();$("#row").html("");websock.close();start();}
function conStatusError(){websockConnected=false;$("#conStatus").removeClass("color-green");$("#conStatus").addClass("color-red");$("#conStatus").text("Error / No Connection (click me to retry)");$("#conStatus").off();$("#conStatus").on({'click':restart});}
function handleVisibilityChange(){if(!websockConnected&&!document.hidden){restart();}}
function start(){document.addEventListener("visibilitychange",handleVisibilityChange,false);websock=new WebSocket('ws://'+window.location.hostname+'/ws');websock.onopen=function(evt){console.log('websock open');$("#conStatus").addClass("color-green");$("#conStatus").text("Connected");websockConnected=true;};websock.onclose=function(evt){console.log('websock close');conStatusError();};websock.onerror=function(evt){console.log(evt);conStatusError();};websock.onmessage=function(evt){console.log(evt);var data=JSON.parse(evt.data);var e=document.body;var center="";switch(data.type){case UI_TITEL:document.title=data.label;$('#mainHeader').html(data.label);break;case UI_LABEL:$('#row').append("<div class='two columns card tcenter "+colorClass(data.color)+"'><h5 id='"+data.id+"'>"+data.label+"</h5><hr /><span id='l"+data.id+"' class='label label-wrap'>"+data.value+"</span></div>");break;case UI_BUTTON:$('#row').append("<div class='one columns card tcenter "+colorClass(data.color)+"'><h5>"+data.label+"</h5><hr/><button onmousedown='buttonclick("+data.id+", true)' onmouseup='buttonclick("+data.id+", false)' id='"+data.id+"'>"+data.value+"</button></div>");$('#'+data.id).on({'touchstart':function(e){e.preventDefault();buttonclick(data.id,true)}});$('#'+data.id).on({'touchend':function(e){e.preventDefault();buttonclick(data.id,false)}});break;case UI_SWITCHER:var label="<label id='sl"+data.id+"' class='switch checked'>";var input="<div class='in'><input type='checkbox' id='s"+data.id+"' onClick='switcher("+data.id+",null)' checked></div>";if(data.value=="0"){label="<label id='sl"+data.id+"' class='switch'>";input="<div class='in'><input type='checkbox' id='s"+data.id+"' onClick='switcher("+data.id+",null)' ></div>";}
$('#row').append("<div id='"+data.id+"' class='one columns card tcenter "+colorClass(data.color)+"'><h5>"+data.label+"</h5><hr/>"+
label+input+
"</label>"+
"</div>");break;case UI_CPAD:center="<a class='confirm' onmousedown='padclick(CENTER, "+data.id+", true)' onmouseup='padclick(CENTER, "+data.id+", false)' href='#' id='pc"+data.id+"'>OK</a>";case UI_PAD:$('#row').append("<div class='two columns card tcenter "+colorClass(data.color)+"'><h5>"+data.label+"</h5><hr/>"+
"<nav class='control'>"+
"<ul>"+
"<li><a onmousedown='padclick(FOR, "+data.id+", true)' onmouseup='padclick(FOR, "+data.id+", false)' href='#' id='pf"+data.id+"'>▲</a></li>"+
"<li><a onmousedown='padclick(RIGHT, "+data.id+", true)' onmouseup='padclick(RIGHT, "+data.id+", false)' href='#' id='pr"+data.id+"'>▲</a></li>"+
"<li><a onmousedown='padclick(LEFT, "+data.id+", true)' onmouseup='padclick(LEFT, "+data.id+", false)' href='#' id='pl"+data.id+"'>▲</a></li>"+
"<li><a onmousedown='padclick(BACK, "+data.id+", true)' onmouseup='padclick(BACK, "+data.id+", false)' href='#' id='pb"+data.id+"'>▲</a></li>"+
"</ul>"+
center+
"</nav>"+
"</div>");$('#pf'+data.id).on({'touchstart':function(e){e.preventDefault();padclick(FOR,data.id,true)}});$('#pf'+data.id).on({'touchend':function(e){e.preventDefault();padclick(FOR,data.id,false)}});$('#pl'+data.id).on({'touchstart':function(e){e.preventDefault();padclick(LEFT,data.id,true)}});$('#pl'+data.id).on({'touchend':function(e){e.preventDefault();padclick(LEFT,data.id,false)}});$('#pr'+data.id).on({'touchstart':function(e){e.preventDefault();padclick(RIGHT,data.id,true)}});$('#pr'+data.id).on({'touchend':function(e){e.preventDefault();padclick(RIGHT,data.id,false)}});$('#pb'+data.id).on({'touchstart':function(e){e.preventDefault();padclick(BACK,data.id,true)}});$('#pb'+data.id).on({'touchend':function(e){e.preventDefault();padclick(BACK,data.id,false)}});$('#pc'+data.id).on({'touchstart':function(e){e.preventDefault();padclick(CENTER,data.id,true)}});$('#pc'+data.id).on({'touchend':function(e){e.preventDefault();padclick(CENTER,data.id,false)}});break;case UPDATE_LABEL:$('#l'+data.id).html(data.value);break;case UPDATE_SWITCHER:if(data.value=="0")
switcher(data.id,0);else
switcher(data.id,1);break;case UI_SLIDER:$('#row').append("<div class='two columns card tcenter card-slider "+colorClass(data.color)+"'>"+
"<h5 id='"+data.id+"'>"+data.label+"</h5><hr />"+
"<div id='sl"+data.id+"' class='rkmd-slider slider-discrete slider-"+colorClass(data.color)+"'>"+
"<input type='range' min='0' max='100' value='"+data.value+"'>"+
"</div>"+
"</div>");$('#row').append("<script>"+
"rkmd_rangeSlider('#sl"+data.id+"');"+
"</script>");break;case UPDATE_SLIDER:slider_move($('#sl'+data.id),data.value,'100',false);break;case UI_NUMBER:$('#row').append("<div class='two columns card tcenter"+colorClass(data.color)+"'>"+
"<h5 id='"+data.id+"'>"+data.label+"</h5><hr />"+
"<input id='num"+data.id+"' type='number' value='"+data.value+"' onchange='numberchange("+data.id+")' />"+
"</div>");break;case UPDATE_NUMBER:$('#num'+data.id).val(data.value);break;case UI_TEXT_INPUT:$('#row').append("<div class='two columns card tcenter"+colorClass(data.color)+"'>"+
"<h5 id='"+data.id+"'>"+data.label+"</h5><hr />"+
"<input id='num"+data.id+"' type='number' value='"+data.value+"' onchange='numberchange("+data.id+")' />"+
"</div>");break;case UPDATE_TEXT_INPUT:$('#num'+data.id).val(data.value);break;default:console.error('Unknown type or event');break;}};}
function numberchange(number){var val=$('#num'+data.id).val();websock.send("nchange:"+number+":"+val);console.log(val);}
function buttonclick(number,isdown){if(isdown)websock.send("bdown:"+number);else websock.send("bup:"+number);}
function padclick(type,number,isdown){switch(type){case CENTER:if(isdown)websock.send("pcdown:"+number);else websock.send("pcup:"+number);break;case FOR:if(isdown)websock.send("pfdown:"+number);else websock.send("pfup:"+number);break;case BACK:if(isdown)websock.send("pbdown:"+number);else websock.send("pbup:"+number);break;case LEFT:if(isdown)websock.send("pldown:"+number);else websock.send("plup:"+number);break;case RIGHT:if(isdown)websock.send("prdown:"+number);else websock.send("prup:"+number);break;}}
function switcher(number,state){if(state==null){if($('#s'+number).is(':checked')){websock.send("sactive:"+number);$('#sl'+number).addClass('checked');}else{websock.send("sinactive:"+number);$('#sl'+number).removeClass('checked');}}else if(state==1){$('#sl'+number).addClass('checked');$('#sl'+number).prop("checked",true);}else if(state==0){$('#sl'+number).removeClass('checked');$('#sl'+number).prop("checked",false);}}
)=====";

const uint8_t JS_CONTROLS_GZIP[2003] PROGMEM = { 31,139,8,0,176,114,241,91,2,255,237,89,221,114,227,182,21,190,247,83,48,204,78,72,70,94,201,222,116,211,86,50,61,163,149,181,177,26,69,114,101,57,219,233,141,6,34,161,21,199,20,200,130,160,180,91,143,94,163,15,146,71,202,147,244,0,32,192,31,147,150,98,239,246,170,55,54,113,120,240,225,195,119,206,1,64,200,139,72,194,140,187,209,98,62,154,15,199,238,89,207,83,134,113,255,29,24,206,149,225,230,170,63,31,102,198,31,115,175,119,119,243,249,116,226,190,201,45,183,31,70,243,193,245,112,230,254,80,238,170,237,127,206,125,111,250,87,238,159,242,230,128,183,223,22,160,198,163,43,232,240,151,10,144,180,254,53,247,155,220,253,242,14,44,231,103,101,71,101,62,207,61,231,195,127,204,23,163,201,205,221,220,61,127,83,246,46,190,250,33,239,241,211,172,127,115,237,158,43,150,131,241,176,63,83,70,69,181,127,117,37,77,139,155,233,104,2,253,149,64,239,167,51,45,233,187,254,224,103,45,231,120,248,126,174,69,155,141,126,186,158,107,185,6,195,201,28,88,235,1,23,243,187,217,223,239,166,163,219,161,134,26,44,134,191,12,103,253,241,149,198,27,44,110,134,208,107,54,250,21,186,190,209,198,15,195,121,255,246,230,186,63,46,192,47,110,239,38,239,199,211,15,165,49,6,253,217,108,58,215,218,15,22,253,241,232,159,253,217,104,162,99,61,88,76,166,147,33,4,111,149,18,143,5,17,49,188,40,140,232,32,68,73,98,139,199,145,239,60,100,15,238,36,221,44,49,213,246,94,178,11,152,183,46,248,161,4,23,167,214,165,152,165,148,152,240,231,95,105,20,36,216,236,45,41,70,247,189,204,49,155,175,114,195,27,76,81,232,87,156,114,9,148,95,140,25,166,52,216,98,90,113,205,133,81,174,59,204,80,18,175,81,200,42,174,90,46,229,153,164,100,21,70,187,71,152,82,67,229,229,33,74,35,102,158,148,92,148,170,202,9,133,193,191,17,13,72,197,141,43,173,92,212,43,31,175,80,26,50,109,238,237,247,39,91,68,141,29,94,38,145,119,223,43,60,15,34,66,176,199,176,239,174,80,152,224,60,98,20,39,12,81,102,59,15,175,108,63,242,210,13,38,204,105,35,223,183,173,239,45,167,29,173,86,182,211,123,101,155,223,210,104,103,58,237,53,219,132,182,105,58,189,12,183,237,133,81,130,193,37,67,233,237,79,10,201,64,110,25,98,105,50,132,105,83,24,161,129,11,71,215,190,48,6,197,155,104,139,101,22,153,34,61,94,127,164,24,19,211,121,228,10,60,75,126,20,251,53,94,12,127,98,182,41,88,24,29,99,18,25,25,3,78,210,246,194,192,187,55,54,216,96,17,136,193,232,103,167,6,33,151,161,100,37,246,131,37,250,91,221,76,199,125,73,129,53,34,126,136,127,13,146,96,25,132,1,251,60,0,195,71,80,235,33,88,217,223,84,213,248,238,187,111,84,0,218,235,192,247,49,113,30,116,116,120,104,53,172,138,152,118,7,25,134,91,120,24,7,9,195,4,138,204,220,234,49,61,49,166,121,90,207,229,84,132,64,135,211,37,120,103,124,192,203,91,120,198,204,182,118,73,183,211,177,90,187,128,248,209,174,29,70,30,226,4,218,235,40,97,4,109,112,203,234,236,18,43,79,134,136,68,49,38,174,34,106,227,45,227,245,79,146,40,196,208,251,35,0,74,79,131,251,89,135,227,217,20,119,25,81,45,93,158,143,121,110,49,154,226,222,190,64,77,100,234,49,220,132,35,144,171,230,111,9,13,115,219,19,104,220,240,52,194,6,39,9,250,136,15,97,240,34,246,17,67,238,223,110,167,147,118,140,40,148,27,188,104,115,155,124,139,93,157,8,203,200,255,44,108,30,180,48,117,97,77,200,150,89,238,222,102,159,99,156,45,180,106,123,239,234,190,44,96,33,64,113,191,16,45,113,8,162,91,223,110,80,64,174,49,242,49,181,178,226,207,29,156,226,90,167,78,7,93,222,11,214,10,112,71,49,4,217,183,205,11,63,216,130,168,16,86,215,98,187,136,111,18,233,134,36,6,44,135,190,193,36,83,195,108,21,246,14,49,134,104,59,45,211,186,188,88,191,53,2,223,181,204,150,120,17,248,220,152,53,4,147,150,121,209,89,191,5,63,168,239,203,139,36,70,68,248,135,197,14,138,129,232,96,136,191,175,119,20,197,26,105,139,194,20,115,36,222,255,242,162,3,172,47,205,234,28,229,217,230,192,36,33,59,158,53,201,134,57,193,148,150,41,99,80,248,144,52,81,154,96,168,69,226,90,210,38,150,31,187,48,209,83,131,103,190,99,41,231,52,126,194,85,86,191,213,168,174,214,68,34,228,170,112,1,44,213,33,91,9,89,148,122,107,177,54,89,221,60,169,157,7,220,142,41,230,203,211,149,220,175,160,14,138,132,50,144,83,65,123,191,127,2,27,132,126,22,178,156,37,135,46,7,83,29,63,187,188,98,132,232,174,121,33,243,131,11,146,212,230,143,172,39,3,216,192,18,233,131,82,162,222,2,18,167,204,45,101,65,64,32,168,194,110,240,186,115,45,209,101,25,125,146,114,39,37,240,136,12,56,101,5,207,151,240,66,156,72,26,134,16,165,108,76,21,133,30,236,34,121,148,92,215,60,51,157,135,63,54,13,78,255,127,66,93,115,222,159,52,212,78,53,5,191,90,49,153,173,19,105,19,19,108,157,192,43,209,230,47,204,134,178,231,95,33,93,181,166,94,32,197,13,22,235,85,64,55,86,185,48,99,228,203,252,147,199,246,83,227,64,117,62,237,175,74,116,77,241,202,133,194,16,66,197,94,169,90,167,63,95,116,16,136,171,232,114,182,95,103,29,126,74,85,243,130,160,109,65,26,70,163,208,146,47,210,76,221,48,184,4,245,234,213,130,15,163,227,165,122,236,92,175,211,170,164,211,239,255,249,141,11,5,1,15,14,243,17,159,96,199,51,170,115,175,231,68,159,207,137,127,35,30,79,169,198,187,158,81,248,124,70,252,19,246,120,70,53,222,245,140,150,79,51,234,200,132,146,57,43,12,144,122,229,2,230,249,31,175,94,176,71,149,114,173,118,147,106,128,63,102,155,170,5,207,247,41,129,30,126,9,242,34,7,234,217,135,47,103,95,66,175,208,167,95,130,190,172,170,122,254,244,229,252,203,240,149,9,44,191,196,4,68,198,215,243,95,190,156,127,9,189,66,223,251,18,244,179,45,169,126,2,222,203,39,80,193,175,63,169,21,238,25,197,182,86,76,220,252,155,68,156,130,234,58,234,99,94,205,121,233,68,31,90,20,133,51,167,135,129,196,227,23,231,143,142,143,226,210,241,185,27,45,111,188,78,194,192,63,176,233,138,69,237,15,125,0,137,30,234,72,85,127,250,163,247,27,61,184,252,247,218,15,18,143,98,134,85,251,32,167,226,249,144,242,187,4,203,216,4,176,53,156,193,127,244,201,181,206,207,224,73,74,109,149,63,39,172,226,74,93,93,179,43,82,2,169,32,102,194,141,147,94,136,145,110,5,69,112,46,207,206,233,73,52,213,167,54,25,100,208,228,36,23,252,162,201,126,37,128,242,156,58,205,185,158,138,89,168,75,146,114,248,229,85,242,51,195,255,21,34,46,227,193,59,145,116,83,10,186,140,17,17,247,175,77,33,129,237,90,222,20,41,71,217,42,158,229,97,147,238,52,31,146,139,247,235,66,20,128,41,212,41,140,211,88,166,197,59,248,255,235,89,210,179,34,204,49,154,170,91,97,117,147,36,110,170,108,235,142,220,19,56,186,9,242,70,68,13,177,34,91,170,211,126,95,188,183,44,49,150,13,231,129,127,230,194,64,110,61,143,252,18,48,17,65,203,102,223,53,91,178,127,203,132,71,112,20,151,98,250,134,75,24,10,3,23,191,222,101,191,211,32,225,39,78,113,101,154,61,150,7,90,114,155,30,70,46,222,70,197,37,141,11,14,133,225,244,54,196,69,57,173,12,152,93,156,21,238,204,228,102,213,109,98,18,123,135,169,196,94,137,75,33,224,112,16,108,70,94,29,129,188,106,66,230,135,132,102,232,35,244,139,151,77,208,252,252,215,12,29,30,1,29,54,65,139,163,89,51,54,61,2,155,214,96,151,238,209,213,22,159,69,30,206,70,12,139,76,19,79,174,43,46,47,120,91,108,17,150,130,106,7,137,109,117,213,13,144,163,127,216,200,198,77,16,192,111,113,97,104,181,195,168,254,250,154,219,210,32,189,61,159,65,21,41,32,7,177,138,191,150,20,225,4,158,145,207,229,156,255,194,115,152,70,213,39,166,81,108,155,217,123,83,30,0,123,85,236,179,199,216,13,180,14,192,103,27,237,126,255,95,134,236,61,1,132,30,0,0 };

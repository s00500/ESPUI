const char JS_GRAPH[] PROGMEM = R"=====(
function lineGraph(parent,xAccessor,yAccessor){const width=620;const height=420;const gutter=40;const pixelsPerTick=30;function numericTransformer(dataMin,dataMax,pxMin,pxMax){var dataDiff=dataMax-dataMin,pxDiff=pxMax-pxMin,dataRatio=pxDiff/dataDiff,coordRatio=dataDiff/pxDiff;return{toCoord:function(data){return(data-dataMin)*dataRatio+pxMin;},toData:function(coord){return(coord-pxMin)*coordRatio+dataMin;}};}
function axisRenderer(orientation,transform){var axisGroup=document.createElementNS("http://www.w3.org/2000/svg","g");var axisPath=document.createElementNS("http://www.w3.org/2000/svg","path");axisGroup.setAttribute("class",orientation+"-axis");var xMin=gutter;var xMax=width-gutter;var yMin=height-gutter;var yMax=gutter;if(orientation==="x"){axisPath.setAttribute("d","M "+xMin+" "+yMin+" L "+xMax+" "+yMin);for(var i=xMin;i<=xMax;i++){if((i-xMin)%(pixelsPerTick*3)===0&&i!==xMin){var text=document.createElementNS("http://www.w3.org/2000/svg","text");text.innerHTML=new Date(Math.floor(transform(i))).toLocaleTimeString();text.setAttribute("x",i);text.setAttribute("y",yMin);text.setAttribute("dy","1em");axisGroup.appendChild(text);}}}else{axisPath.setAttribute("d","M "+xMin+" "+yMin+" L "+xMin+" "+yMax);for(var i=yMax;i<=yMin;i++){if((i-yMin)%pixelsPerTick===0&&i!==yMin){var tickGroup=document.createElementNS("http://www.w3.org/2000/svg","g");var gridLine=document.createElementNS("http://www.w3.org/2000/svg","path");text=document.createElementNS("http://www.w3.org/2000/svg","text");text.innerHTML=Math.floor(transform(i));text.setAttribute("x",xMin);text.setAttribute("y",i);text.setAttribute("dx","-.5em");text.setAttribute("dy",".3em");gridLine.setAttribute("d","M "+xMin+" "+i+" L "+xMax+" "+i);tickGroup.appendChild(gridLine);tickGroup.appendChild(text);axisGroup.appendChild(tickGroup);}}}
axisGroup.appendChild(axisPath);parent.appendChild(axisGroup);}
function lineRenderer(xAccessor,yAccessor,xTransform,yTransform){var line=document.createElementNS("http://www.w3.org/2000/svg","path");xAccessor.reset();yAccessor.reset();if(!xAccessor.hasNext()||!yAccessor.hasNext()){return;}
var pathString="M "+xTransform(xAccessor.next())+" "+yTransform(yAccessor.next());while(xAccessor.hasNext()&&yAccessor.hasNext()){pathString+=" L "+
xTransform(xAccessor.next())+
" "+
yTransform(yAccessor.next());}
line.setAttribute("class","series");line.setAttribute("d",pathString);parent.appendChild(line);}
function pointRenderer(xAccessor,yAccessor,xTransform,yTransform){var pointGroup=document.createElementNS("http://www.w3.org/2000/svg","g");pointGroup.setAttribute("class","data-points");xAccessor.reset();yAccessor.reset();if(!xAccessor.hasNext()||!yAccessor.hasNext()){return;}
while(xAccessor.hasNext()&&yAccessor.hasNext()){var xDataValue=xAccessor.next();var x=xTransform(xDataValue);var yDataValue=yAccessor.next();var y=yTransform(yDataValue);var circle=document.createElementNS("http://www.w3.org/2000/svg","circle");circle.setAttribute("cx",x);circle.setAttribute("cy",y);circle.setAttribute("r","4");var text=document.createElementNS("http://www.w3.org/2000/svg","text");text.innerHTML=new Date(Math.floor(xDataValue)).toLocaleTimeString()+" / "+Math.floor(yDataValue);text.setAttribute("x",x);text.setAttribute("y",y);text.setAttribute("dx","1em");text.setAttribute("dy","-.7em");pointGroup.appendChild(circle);pointGroup.appendChild(text);}
parent.appendChild(pointGroup);}
xTransform=numericTransformer(xAccessor.min(),xAccessor.max(),0+gutter,width-gutter);yTransform=numericTransformer(yAccessor.min(),yAccessor.max(),height-gutter,0+gutter);axisRenderer("x",xTransform.toData);axisRenderer("y",yTransform.toData);lineRenderer(xAccessor,yAccessor,xTransform.toCoord,yTransform.toCoord);pointRenderer(xAccessor,yAccessor,xTransform.toCoord,yTransform.toCoord);}
function renderGraphSvg(dataArray,renderId){var figure=document.getElementById(renderId);while(figure.hasChildNodes()){figure.removeChild(figure.lastChild);}
var svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute("viewBox","0 0 640 440");svg.setAttribute("preserveAspectRatio","xMidYMid meet");lineGraph(svg,(function(data,min,max){var i=0;return{hasNext:function(){return i<data.length;},next:function(){return data[i++].x;},reset:function(){i=0;},min:function(){return min;},max:function(){return max;}};})(dataArray,Math.min.apply(Math,dataArray.map(function(o){return o.x;})),Math.max.apply(Math,dataArray.map(function(o){return o.x;}))),(function(data,min,max){var i=0;return{hasNext:function(){return i<data.length;},next:function(){return data[i++].y;},reset:function(){i=0;},min:function(){return min;},max:function(){return max;}};})(dataArray,Math.min.apply(Math,dataArray.map(function(o){return o.y;})),Math.max.apply(Math,dataArray.map(function(o){return o.y;}))));figure.appendChild(svg);}
)=====";

const uint8_t JS_GRAPH_GZIP[1284] PROGMEM = { 31,139,8,0,191,123,111,105,2,255,205,88,221,111,219,54,16,127,247,95,225,8,104,32,198,178,172,54,94,7,84,225,67,218,14,93,129,36,40,154,96,192,48,236,129,147,104,153,152,44,9,20,109,139,112,253,191,239,72,138,146,236,72,25,234,100,31,15,177,77,222,39,239,126,119,71,102,177,206,34,193,242,108,156,178,140,126,226,164,88,186,5,225,52,19,94,117,29,69,180,44,115,238,73,251,11,237,162,60,43,197,120,203,98,177,196,111,223,4,161,89,47,41,75,150,2,207,155,141,100,45,4,229,120,110,215,5,171,104,90,126,161,252,129,69,127,226,203,32,92,88,179,217,122,69,57,139,30,56,201,202,69,206,97,225,198,68,144,91,150,121,250,155,84,94,81,169,21,124,146,10,237,54,132,143,21,225,35,91,44,112,205,49,181,18,69,165,183,53,235,212,136,41,210,87,2,166,176,33,206,172,176,23,229,57,143,13,201,238,205,12,79,200,169,88,243,108,39,242,15,138,231,157,117,86,123,134,118,134,170,23,214,50,186,104,236,76,180,221,112,239,137,252,35,236,181,194,218,94,35,173,87,198,71,116,209,186,50,169,21,134,251,125,184,31,53,81,34,21,43,191,210,44,166,28,226,147,115,6,249,81,220,153,39,108,220,76,100,20,223,39,158,175,11,28,231,17,68,54,19,126,196,41,17,244,167,148,170,213,221,189,235,44,133,40,222,205,102,219,237,214,223,94,250,57,79,102,111,130,32,152,149,155,196,241,156,196,65,161,85,244,133,64,146,79,212,83,128,44,168,106,252,241,75,42,174,133,224,236,143,181,160,174,19,165,164,44,29,175,115,146,137,51,85,204,181,121,21,22,108,64,84,175,73,133,53,234,166,157,93,169,184,12,246,14,183,129,185,94,179,69,55,92,24,99,167,114,208,206,158,238,200,171,24,28,191,29,59,19,101,125,226,192,15,105,126,220,232,61,82,53,123,40,132,144,187,202,22,195,58,219,236,10,43,134,144,77,38,104,7,54,93,54,213,153,125,229,30,32,255,226,18,129,11,193,249,57,59,195,90,208,100,77,208,74,156,26,104,37,11,65,83,95,62,203,50,202,127,126,184,189,193,25,221,142,1,125,212,189,85,167,92,164,128,47,183,129,138,203,16,66,190,200,111,242,136,164,244,129,173,232,61,132,32,75,220,90,205,97,80,42,199,99,189,4,233,120,38,22,61,180,24,136,206,107,186,58,128,0,41,10,128,240,135,37,75,99,87,201,32,0,249,30,130,67,79,203,71,179,7,109,161,147,15,169,243,112,133,165,206,75,155,15,237,235,171,195,70,212,228,66,182,185,128,253,23,169,160,132,179,248,6,122,234,51,43,232,229,177,49,4,137,129,228,87,67,57,150,67,192,136,65,202,153,250,63,232,244,15,129,195,191,212,100,27,165,191,203,60,59,46,67,101,218,166,234,0,89,86,227,16,221,32,111,0,149,86,66,67,115,212,207,100,193,138,66,51,40,31,17,173,134,182,125,171,217,218,180,239,158,185,234,85,205,252,243,228,195,97,75,79,159,143,161,198,162,207,41,196,25,234,92,62,218,129,34,57,107,249,150,164,188,131,56,185,232,219,183,51,249,120,215,78,49,56,163,114,81,153,49,45,4,155,172,53,71,104,15,235,103,70,210,212,108,203,32,143,25,194,45,4,146,186,61,190,156,159,247,186,210,90,159,96,3,146,209,147,14,140,148,7,163,39,93,216,143,210,199,152,172,103,150,83,194,125,133,170,65,149,246,226,182,117,167,23,32,169,134,102,7,27,69,206,50,113,42,56,180,240,179,219,85,171,101,224,200,250,170,163,185,202,127,24,78,223,155,124,125,57,80,247,172,95,72,186,166,248,56,219,230,242,128,187,120,104,152,13,81,182,194,178,79,88,226,46,82,142,132,35,198,163,244,228,234,52,210,16,80,243,227,56,246,170,247,14,209,212,236,29,160,113,208,60,175,103,208,191,115,177,232,132,180,255,90,1,53,63,131,154,235,136,116,3,57,48,118,6,239,28,195,51,231,245,147,19,103,234,255,168,233,29,180,119,11,211,4,115,144,92,95,88,70,61,37,221,74,40,134,22,107,184,231,109,211,2,116,197,50,23,121,157,53,169,96,29,76,204,197,213,235,94,118,161,192,158,84,42,143,148,202,35,165,7,87,228,198,132,25,130,77,231,209,65,111,180,250,230,245,114,204,163,226,255,152,231,59,198,155,95,191,169,14,213,232,173,58,244,47,161,168,211,94,185,86,167,31,182,247,155,68,63,218,174,57,39,210,51,132,207,177,233,33,11,150,172,121,167,146,19,42,234,66,121,47,63,199,110,195,92,79,39,195,174,26,145,134,192,93,30,211,82,181,163,122,159,211,85,190,161,6,29,245,22,116,82,161,55,80,61,52,161,202,78,45,77,245,137,66,248,60,130,249,134,209,237,251,92,85,66,48,14,198,111,231,193,120,62,15,122,57,11,213,167,249,134,94,151,5,141,132,126,121,130,20,220,182,226,95,225,111,188,162,84,212,3,206,252,75,0,52,120,238,193,51,216,3,168,121,43,251,34,103,56,176,143,230,186,57,183,239,94,219,221,199,236,74,9,250,41,205,18,177,132,7,114,214,207,166,152,126,131,139,251,239,126,5,76,122,160,116,185,148,169,189,178,222,35,186,210,15,111,240,170,143,6,207,2,245,168,70,29,12,232,142,4,66,170,156,83,169,123,154,215,80,161,120,138,246,204,121,163,40,87,126,33,84,11,147,234,20,97,244,31,68,83,254,79,163,41,159,19,77,45,12,55,182,186,202,186,109,25,48,11,181,246,23,243,230,197,199,224,18,0,0 };
